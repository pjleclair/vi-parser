{"ast":null,"code":"import _defineProperty from\"/Users/Phillip/repos/vi-parser/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/Phillip/repos/vi-parser/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/Phillip/repos/vi-parser/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';//import './parser.css'; // Assuming you have a corresponding CSS file for styling\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Parser=function Parser(_ref){var onFileUpload=_ref.onFileUpload,jsonData=_ref.jsonData,onSaveConfiguration=_ref.onSaveConfiguration;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),columnMappings=_useState2[0],setColumnMappings=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),sampleData=_useState4[0],setSampleData=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),name=_useState6[0],setName=_useState6[1];useEffect(function(){if(jsonData&&jsonData.length>0){setSampleData(jsonData[0]);setColumnMappings(Object.keys(jsonData[0]).reduce(function(acc,key,index){acc[index]='';return acc;},{}));}},[jsonData]);var handleColumnMapping=function handleColumnMapping(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setColumnMappings(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},name,value));});};var handleInputChange=function handleInputChange(e){setName(e.target.value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"parser\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:onFileUpload}),sampleData.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"sample-data\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Sample Data:\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:Object.keys(sampleData).map(function(key,index){return/*#__PURE__*/_jsx(\"th\",{children:key},index);})})}),/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsx(\"tr\",{children:Object.values(sampleData).map(function(value,index){return/*#__PURE__*/_jsx(\"td\",{children:value},index);})})})]})]}),sampleData.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"column-mapping\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Column Mapping:\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Column\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Value\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:Object.keys(sampleData).map(function(columnName,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:columnName}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"select\",{name:index,value:columnMappings[index],onChange:handleColumnMapping,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Value\"}),/*#__PURE__*/_jsx(\"option\",{value:\"fullName\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"option\",{value:\"phoneNumber\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"option\",{value:\"emailAddress\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"option\",{value:\"party\",children:\"Party\"}),/*#__PURE__*/_jsx(\"option\",{value:\"age\",children:\"Age\"})]})})]},index);})})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:handleInputChange,placeholder:\"Configuration Name\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return onSaveConfiguration(name,columnMappings);},children:\"Save Configuration\"})]})]});};export default Parser;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Parser","_ref","onFileUpload","jsonData","onSaveConfiguration","_useState","_useState2","_slicedToArray","columnMappings","setColumnMappings","_useState3","_useState4","sampleData","setSampleData","_useState5","_useState6","name","setName","length","Object","keys","reduce","acc","key","index","handleColumnMapping","e","_e$target","target","value","prevState","_objectSpread","_defineProperty","handleInputChange","className","children","type","onChange","map","values","columnName","placeholder","onClick"],"sources":["/Users/Phillip/repos/vi-parser/frontend/src/components/parser.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n//import './parser.css'; // Assuming you have a corresponding CSS file for styling\n\nconst Parser = ({ onFileUpload, jsonData, onSaveConfiguration }) => {\n  const [columnMappings, setColumnMappings] = useState({});\n  const [sampleData, setSampleData] = useState([]);\n  const [name, setName] = useState('');\n\n  useEffect(() => {\n    if (jsonData && jsonData.length > 0) {\n      setSampleData(jsonData[0]);\n      setColumnMappings(\n        Object.keys(jsonData[0]).reduce((acc, key, index) => {\n          acc[index] = '';\n          return acc;\n        }, {})\n      );\n    }\n  }, [jsonData]);\n\n  const handleColumnMapping = (e) => {\n    const { name, value } = e.target;\n    setColumnMappings((prevState) => ({\n      ...prevState,\n      [name]: value,\n    }));\n  };\n\n  const handleInputChange = (e) => {\n    setName(e.target.value);\n  };\n\n  return (\n    <div className=\"parser\">\n      <input type=\"file\" onChange={onFileUpload} />\n      {sampleData.length > 0 && (\n        <div className=\"sample-data\">\n          <h2>Sample Data:</h2>\n          <table>\n            <thead>\n              <tr>\n                {Object.keys(sampleData).map((key, index) => (\n                  <th key={index}>{key}</th>\n                ))}\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                {Object.values(sampleData).map((value, index) => (\n                  <td key={index}>{value}</td>\n                ))}\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      )}\n      {sampleData.length > 0 && (\n        <div className=\"column-mapping\">\n          <h2>Column Mapping:</h2>\n          <table>\n            <thead>\n              <tr>\n                <th>Column</th>\n                <th>Value</th>\n              </tr>\n            </thead>\n            <tbody>\n              {Object.keys(sampleData).map((columnName, index) => (\n                <tr key={index}>\n                  <td>{columnName}</td>\n                  <td>\n                    <select\n                      name={index}\n                      value={columnMappings[index]}\n                      onChange={handleColumnMapping}\n                    >\n                      <option value=\"\">Select Value</option>\n                      <option value=\"fullName\">Full Name</option>\n                      <option value=\"phoneNumber\">Phone Number</option>\n                      <option value=\"emailAddress\">Email Address</option>\n                      <option value=\"party\">Party</option>\n                      <option value=\"age\">Age</option>\n                    </select>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n          <input type=\"text\" value={name} onChange={handleInputChange} placeholder=\"Configuration Name\" />\n          <button onClick={() => onSaveConfiguration(name, columnMappings)}>\n            Save Configuration\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Parser;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}